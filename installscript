#!/bin/bash

# Hide "last login" line when starting a new terminal session
touch $HOME/.hushlogin

# Add global gitignore
rm -f $HOME/.global-gitignore
ln -s $HOME/.dotfiles/shell/.global-gitignore $HOME/.global-gitignore
git config --global core.excludesfile $HOME/.global-gitignore

# Symlink vim prefs
rm -f $HOME/.vimrc
ln -s $HOME/.dotfiles/shell/.vimrc $HOME/.vimrc
rm -f $HOME/.vim
ln -s $HOME/.dotfiles/shell/.vim $HOME/.vim

# Add global PHP CS Fixer configuration
rm -f $HOME/.php_cs.dist
ln -s $HOME/.dotfiles/shell/.php_cs.dist $HOME/.php_cs.dist


if [[ "$OSTYPE" == "darwin"* ]]; then
	source ~/.dotfiles/macos/installscript
fi

if [[ "$OSTYPE" == "linux-gnu" ]]; then
	source ~/.dotfiles/linux/installscript
fi

echo '++++++++++++++++++++++++++++++'
echo '++++++++++++++++++++++++++++++'
echo 'All done!'

echo '++++++++++++++++++++++++++++++'
echo 'Some optional steps'

if [[ "$OSTYPE" == "darwin"* ]]; then
	echo '- Set some sensible macOS defaults by running: $HOME/.dotfiles/macos/set-defaults.sh'
fi
echo '- Make a .dotfiles-custom/shell/.aliases for your personal commands'

echo '++++++++++++++++++++++++++++++'
echo '++++++++++++++++++++++++++++++'
